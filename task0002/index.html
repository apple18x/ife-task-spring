<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Document</title>
    <link rel="stylesheet" href="util.css">
</head>
<body>
    <!-- 2.1 -->
    <input id="number1" type="text">
    <input id="number2" type="text">
    <span id="result"></span>
    <button id="addbtn">result</button>
    <script type="text/javascript" src="task0002.js"></script>
    
    <!-- 2.2 -->
    <h3>判断arr是否为一个数组，返回一个bool值</h3>
    <p id="judge-arr"></p>
    
    <h3>判断fn是否为一个函数，返回一个bool值</h3>
    <p id="judge-func"></p>
    
    <!-- 2.3 -->
    <h3>为元素增加新样式</h3>
    <p id="p1">我是被增加了新样式的元素p</p>
    
    <h3>为元素删除新样式</h3>
    <p id="p2" class="red-color yellow-bg">我是被删除了新样式的元素p，原颜色为红色</p>
    
    <h3>判断siblingNode和element是否为同一个父元素下的同一级的元素，返回bool值</h3>
    <div class="sibling">
        <ul class="parent1">
            <li id = "child">我是子元素i</li>
            <li>我是子元素ii</li>
            <li id = "sibling">我是子元素iii</li>
        </ul>
        <ul class="parent2">
            <li>我是子元素1</li>
            <li>我是子元素2</li>
            <li>我是子元素3</li>
        </ul>
    </div>
    
    <h3>获取元素相对于浏览器窗口的位置</h3>
    <div id = "blue-square"></div>

    <div id="adom"></div>

    <!-- 2.4 -->
    
    <!-- 2.5 -->
    <h3>当前使用的IE浏览器版本</h3> 

    <!-- 2.6 Ajax -->



    <script type="text/javascript" src="util.js"></script>
    <script>
    
        // 1. 判断arr是否为一个数组
        var arr = new Array("1","2"); 
        document.getElementById("judge-arr").innerText = 'Array("1","2") ' + "is an array: " + isArray(arr);
        console.log(new Date().valueOf());
        // 判断fn是否为一个函数
        var myFunc = function(){}; 
        document.getElementById("judge-func").innerText = 'myFunc ' + "is a function: " + isFunction(myFunc);

        // 2. 值类型和引用类型
        // 实现深度克隆
        var srcObj = {
            a: 1,
            b: {
                b1: ["hello", "hi"],
                b2: "JavaScript"
            }
        };
        var abObj = srcObj;
        var tarObj = cloneObject(srcObj);

        srcObj.a = 2;
        srcObj.b.b1[0] = "Hello";

        console.log(abObj.a);
        console.log(abObj.b.b1[0]);

        console.log(tarObj.a);      // 1
        console.log(tarObj.b.b1[0]);    // "hello"

        // 3. 数组、字符串、数字
        var a = [1, 3, 5, 7, 5, 3];
        var b = uniqArray4(a);
        console.log(b); // [1, 3, 5, 7]


        // 4. 去除字符串头部和尾部空白字符
        var str = '          hi!          ';
        str = simpleTrim(str);
        console.log(str); 

        str = trim(str);
        console.log(str); 


        // 5. 遍历数组
        var arr = ['java', 'c', 'php', 'html'];
        function output(item) {
            console.log(item)
        }
        each(arr, output);  // java, c, php, html

        // 6. 获取一个对象里面第一层元素的数量，返回一个整数
        var obj = {
            a: 1,
            b: 2,
            c: {
                c1: 3,
                c2: 4
            }
        };
        console.log(getObjectLength(obj)); // 3


        // 7. 判断是否为邮箱、手机地址
        console.log(isEmail("xyang4173@sina.com"));
        console.log(isMobilePhone("15801008930"));




        var p1 = document.getElementById("p1");
        // addClass(p1,"red-color");

        var p2 = document.getElementById("p2");
        removeClass(p2,"red-color");

        var child = document.getElementById("child");
        var sibling = document.getElementById("sibling");
        document.write("是否为同一父元素下的子元素：" + isSiblingNode(child, sibling));
        
        var blueSquare = document.getElementById("blue-square");
        document.write("元素相对于浏览器窗口的位置：(" + getPosition(blueSquare).x + ", "+ getPosition(blueSquare).y + ")<br/>");
    
        // alert($("#adom")); // 返回id为adom的DOM对象
        document.write("当前使用的IE浏览器版本(若非ie则返回-1):" + isIE());

        var cookieName = "userId";
        var cookieValue = "823";
        var expiredays = 2;
        setCookie(cookieName, cookieValue, expiredays);


        ajax(
            'http://localhost:8080/server/ajaxtest', 
            {
                type: 'get',
                data: {
                    name: 'simon',
                    password: '123456'
                },
                onsuccess: function (responseText, xhr) {
                    console.log(responseText);
                },
                onfail: function (status) {
                    // 此处放失败后执行的代码
                }
            }
        );
    </script>


</body>
</html>